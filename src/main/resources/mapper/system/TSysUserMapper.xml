<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zhongzhou.dao.system.TSysUserDAO">


  <resultMap id="DepartmanMap" type="com.zhongzhou.entity.DepartVo">
  	<id column="depart" jdbcType="INTEGER" property="value" />
  	<result column="departname" jdbcType="VARCHAR" property="name" />
  	<collection property="children" ofType="com.zhongzhou.entity.UserVo">
		<id column="userid" property="value"></id>
		<result column="username" property="name"></result>
		</collection>
  </resultMap>



    <resultMap id="BaseResultMap" type="com.zhongzhou.entity.system.TSysUser">
        <id column="id" jdbcType="INTEGER" property="id" />
        <result column="username" jdbcType="VARCHAR" property="username" />
        <result column="phone" jdbcType="VARCHAR" property="phone" />
        <result column="email" jdbcType="VARCHAR" property="email" />
        <result column="sex" jdbcType="INTEGER" property="sex" />
        <result column="birthday" jdbcType="DATE" property="birthday" />
        <result column="departid" jdbcType="INTEGER" property="departid" />
        <result column="usergroupid" jdbcType="INTEGER" property="usergroupid" />
        <result column="account" jdbcType="VARCHAR" property="account" />
        <result column="password" jdbcType="VARCHAR" property="password" />
        <result column="status" jdbcType="VARCHAR" property="status" />
        <result column="weixinid" jdbcType="VARCHAR" property="weixinid" />
        <result column="avatar" jdbcType="VARCHAR" property="avatar" />
        <result column="roleid" jdbcType="INTEGER" property="roleid" />
        <result column="roleper" jdbcType="INTEGER" property="roleper" />
        <result column="policecode" jdbcType="VARCHAR" property="policecode" />
    </resultMap>
    <sql id="Example_Where_Clause">
        <where>
            <foreach collection="oredCriteria" item="criteria" separator="or">
                <if test="criteria.valid">
                    <trim prefix="(" prefixOverrides="and" suffix=")">
                        <foreach collection="criteria.criteria" item="criterion">
                            <choose>
                                <when test="criterion.noValue">
                                    and ${criterion.condition}
                                </when>
                                <when test="criterion.singleValue">
                                    and ${criterion.condition} #{criterion.value}
                                </when>
                                <when test="criterion.betweenValue">
                                    and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                                </when>
                                <when test="criterion.listValue">
                                    and ${criterion.condition}
                                    <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                                        #{listItem}
                                    </foreach>
                                </when>
                            </choose>
                        </foreach>
                    </trim>
                </if>
            </foreach>
        </where>
    </sql>
    <sql id="Update_By_Example_Where_Clause">
        <where>
            <foreach collection="example.oredCriteria" item="criteria" separator="or">
                <if test="criteria.valid">
                    <trim prefix="(" prefixOverrides="and" suffix=")">
                        <foreach collection="criteria.criteria" item="criterion">
                            <choose>
                                <when test="criterion.noValue">
                                    and ${criterion.condition}
                                </when>
                                <when test="criterion.singleValue">
                                    and ${criterion.condition} #{criterion.value}
                                </when>
                                <when test="criterion.betweenValue">
                                    and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                                </when>
                                <when test="criterion.listValue">
                                    and ${criterion.condition}
                                    <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                                        #{listItem}
                                    </foreach>
                                </when>
                            </choose>
                        </foreach>
                    </trim>
                </if>
            </foreach>
        </where>
    </sql>
    <sql id="Base_Column_List">
    id, username, phone, email, sex, birthday, departid, usergroupid, account, password,
    status, weixinid, avatar, roleid, roleper, policecode
  </sql>
    <select id="selectByExample" parameterType="com.zhongzhou.entity.system.TSysUserCriteria" resultMap="BaseResultMap">
        select
        <if test="distinct">
            distinct
        </if>
        <include refid="Base_Column_List" />
        from t_sys_user
        <if test="_parameter != null">
            <include refid="Example_Where_Clause" />
        </if>
        <if test="orderByClause != null">
            order by ${orderByClause}
        </if>
    </select>
    <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List" />
        from t_sys_user
        where id = #{id,jdbcType=INTEGER}
    </select>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    delete from t_sys_user
    where id = #{id,jdbcType=INTEGER}
  </delete>
    <delete id="deleteByExample" parameterType="com.zhongzhou.entity.system.TSysUserCriteria">
        delete from t_sys_user
        <if test="_parameter != null">
            <include refid="Example_Where_Clause" />
        </if>
    </delete>
    <insert id="insert" parameterType="com.zhongzhou.entity.system.TSysUser" useGeneratedKeys="true" keyProperty="id">
    insert into t_sys_user (id, username, phone,
      email, sex, birthday,
      departid, usergroupid, account,
      password, status, weixinid,
      avatar, roleid, roleper,
      policecode)
    values (#{id,jdbcType=INTEGER}, #{username,jdbcType=VARCHAR}, #{phone,jdbcType=VARCHAR},
      #{email,jdbcType=VARCHAR}, #{sex,jdbcType=INTEGER}, #{birthday,jdbcType=DATE},
      #{departid,jdbcType=INTEGER}, #{usergroupid,jdbcType=INTEGER}, #{account,jdbcType=VARCHAR},
      #{password,jdbcType=VARCHAR}, #{status,jdbcType=VARCHAR}, #{weixinid,jdbcType=VARCHAR},
      #{avatar,jdbcType=VARCHAR}, #{roleid,jdbcType=INTEGER}, #{roleper,jdbcType=INTEGER},
      #{policecode,jdbcType=VARCHAR})
  </insert>
    <insert id="insertSelective" parameterType="com.zhongzhou.entity.system.TSysUser" useGeneratedKeys="true" keyProperty="id">
        insert into t_sys_user
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="id != null">
                id,
            </if>
            <if test="username != null">
                username,
            </if>
            <if test="phone != null">
                phone,
            </if>
            <if test="email != null">
                email,
            </if>
            <if test="sex != null">
                sex,
            </if>
            <if test="birthday != null">
                birthday,
            </if>
            <if test="departid != null">
                departid,
            </if>
            <if test="usergroupid != null">
                usergroupid,
            </if>
            <if test="account != null">
                account,
            </if>
            <if test="password != null">
                password,
            </if>
            <if test="status != null">
                status,
            </if>
            <if test="weixinid != null">
                weixinid,
            </if>
            <if test="avatar != null">
                avatar,
            </if>
            <if test="roleid != null">
                roleid,
            </if>
            <if test="roleper != null">
                roleper,
            </if>
            <if test="policecode != null">
                policecode,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="id != null">
                #{id,jdbcType=INTEGER},
            </if>
            <if test="username != null">
                #{username,jdbcType=VARCHAR},
            </if>
            <if test="phone != null">
                #{phone,jdbcType=VARCHAR},
            </if>
            <if test="email != null">
                #{email,jdbcType=VARCHAR},
            </if>
            <if test="sex != null">
                #{sex,jdbcType=INTEGER},
            </if>
            <if test="birthday != null">
                #{birthday,jdbcType=DATE},
            </if>
            <if test="departid != null">
                #{departid,jdbcType=INTEGER},
            </if>
            <if test="usergroupid != null">
                #{usergroupid,jdbcType=INTEGER},
            </if>
            <if test="account != null">
                #{account,jdbcType=VARCHAR},
            </if>
            <if test="password != null">
                #{password,jdbcType=VARCHAR},
            </if>
            <if test="status != null">
                #{status,jdbcType=VARCHAR},
            </if>
            <if test="weixinid != null">
                #{weixinid,jdbcType=VARCHAR},
            </if>
            <if test="avatar != null">
                #{avatar,jdbcType=VARCHAR},
            </if>
            <if test="roleid != null">
                #{roleid,jdbcType=INTEGER},
            </if>
            <if test="roleper != null">
                #{roleper,jdbcType=INTEGER},
            </if>
            <if test="policecode != null">
                #{policecode,jdbcType=VARCHAR},
            </if>
        </trim>
    </insert>
    <insert id="insertBatch" parameterType="java.util.List">
        insert into t_sys_user (id, username, phone,
        email, sex, birthday,
        departid, usergroupid, account,
        password, status, weixinid,
        avatar, roleid, roleper,
        policecode)
        values
        <foreach collection="list" index="index" item="item" separator=",">
            (#{item.id,jdbcType=INTEGER}, #{item.username,jdbcType=VARCHAR}, #{item.phone,jdbcType=VARCHAR},
            #{item.email,jdbcType=VARCHAR}, #{item.sex,jdbcType=INTEGER}, #{item.birthday,jdbcType=DATE},
            #{item.departid,jdbcType=INTEGER}, #{item.usergroupid,jdbcType=INTEGER}, #{item.account,jdbcType=VARCHAR},
            #{item.password,jdbcType=VARCHAR}, #{item.status,jdbcType=VARCHAR}, #{item.weixinid,jdbcType=VARCHAR},
            #{item.avatar,jdbcType=VARCHAR}, #{item.roleid,jdbcType=INTEGER}, #{item.roleper,jdbcType=INTEGER},
            #{item.policecode,jdbcType=VARCHAR})
        </foreach>
    </insert>
    <insert id="insertBatchSelective" parameterType="java.util.List">
        insert into t_sys_user
        (id, username, phone, email, sex, birthday, departid, usergroupid, account, password,
        status, weixinid, avatar, roleid, roleper, policecode)
        values
        <foreach collection="list" index="index" item="item" separator=",">
            <trim prefix="(" suffix=")" suffixOverrides=",">
                <if test="item.id != null">
                    #{item.id,jdbcType=INTEGER},
                </if>
                <if test="item.id == null">
                    NULL,
                </if>
                <if test="item.username != null">
                    #{item.username,jdbcType=VARCHAR},
                </if>
                <if test="item.username == null">
                    NULL,
                </if>
                <if test="item.phone != null">
                    #{item.phone,jdbcType=VARCHAR},
                </if>
                <if test="item.phone == null">
                    NULL,
                </if>
                <if test="item.email != null">
                    #{item.email,jdbcType=VARCHAR},
                </if>
                <if test="item.email == null">
                    NULL,
                </if>
                <if test="item.sex != null">
                    #{item.sex,jdbcType=INTEGER},
                </if>
                <if test="item.sex == null">
                    NULL,
                </if>
                <if test="item.birthday != null">
                    #{item.birthday,jdbcType=DATE},
                </if>
                <if test="item.birthday == null">
                    NULL,
                </if>
                <if test="item.departid != null">
                    #{item.departid,jdbcType=INTEGER},
                </if>
                <if test="item.departid == null">
                    NULL,
                </if>
                <if test="item.usergroupid != null">
                    #{item.usergroupid,jdbcType=INTEGER},
                </if>
                <if test="item.usergroupid == null">
                    NULL,
                </if>
                <if test="item.account != null">
                    #{item.account,jdbcType=VARCHAR},
                </if>
                <if test="item.account == null">
                    NULL,
                </if>
                <if test="item.password != null">
                    #{item.password,jdbcType=VARCHAR},
                </if>
                <if test="item.password == null">
                    NULL,
                </if>
                <if test="item.status != null">
                    #{item.status,jdbcType=VARCHAR},
                </if>
                <if test="item.status == null">
                    NULL,
                </if>
                <if test="item.weixinid != null">
                    #{item.weixinid,jdbcType=VARCHAR},
                </if>
                <if test="item.weixinid == null">
                    NULL,
                </if>
                <if test="item.avatar != null">
                    #{item.avatar,jdbcType=VARCHAR},
                </if>
                <if test="item.avatar == null">
                    NULL,
                </if>
                <if test="item.roleid != null">
                    #{item.roleid,jdbcType=INTEGER},
                </if>
                <if test="item.roleid == null">
                    NULL,
                </if>
                <if test="item.roleper != null">
                    #{item.roleper,jdbcType=INTEGER},
                </if>
                <if test="item.roleper == null">
                    NULL,
                </if>
                <if test="item.policecode != null">
                    #{item.policecode,jdbcType=VARCHAR},
                </if>
                <if test="item.policecode == null">
                    NULL,
                </if>
            </trim>
        </foreach>
    </insert>
    <select id="countByExample" parameterType="com.zhongzhou.entity.system.TSysUserCriteria" resultType="java.lang.Long">
        select count(*) from t_sys_user
        <if test="_parameter != null">
            <include refid="Example_Where_Clause" />
        </if>
    </select>
    <update id="updateByExampleSelective" parameterType="map">
        update t_sys_user
        <set>
            <if test="record.id != null">
                id = #{record.id,jdbcType=INTEGER},
            </if>
            <if test="record.username != null">
                username = #{record.username,jdbcType=VARCHAR},
            </if>
            <if test="record.phone != null">
                phone = #{record.phone,jdbcType=VARCHAR},
            </if>
            <if test="record.email != null">
                email = #{record.email,jdbcType=VARCHAR},
            </if>
            <if test="record.sex != null">
                sex = #{record.sex,jdbcType=INTEGER},
            </if>
            <if test="record.birthday != null">
                birthday = #{record.birthday,jdbcType=DATE},
            </if>
            <if test="record.departid != null">
                departid = #{record.departid,jdbcType=INTEGER},
            </if>
            <if test="record.usergroupid != null">
                usergroupid = #{record.usergroupid,jdbcType=INTEGER},
            </if>
            <if test="record.account != null">
                account = #{record.account,jdbcType=VARCHAR},
            </if>
            <if test="record.password != null">
                password = #{record.password,jdbcType=VARCHAR},
            </if>
            <if test="record.status != null">
                status = #{record.status,jdbcType=VARCHAR},
            </if>
            <if test="record.weixinid != null">
                weixinid = #{record.weixinid,jdbcType=VARCHAR},
            </if>
            <if test="record.avatar != null">
                avatar = #{record.avatar,jdbcType=VARCHAR},
            </if>
            <if test="record.roleid != null">
                roleid = #{record.roleid,jdbcType=INTEGER},
            </if>
            <if test="record.roleper != null">
                roleper = #{record.roleper,jdbcType=INTEGER},
            </if>
            <if test="record.policecode != null">
                policecode = #{record.policecode,jdbcType=VARCHAR},
            </if>
        </set>
        <if test="_parameter != null">
            <include refid="Update_By_Example_Where_Clause" />
        </if>
    </update>
    <update id="updateByExample" parameterType="map">
        update t_sys_user
        set id = #{record.id,jdbcType=INTEGER},
        username = #{record.username,jdbcType=VARCHAR},
        phone = #{record.phone,jdbcType=VARCHAR},
        email = #{record.email,jdbcType=VARCHAR},
        sex = #{record.sex,jdbcType=INTEGER},
        birthday = #{record.birthday,jdbcType=DATE},
        departid = #{record.departid,jdbcType=INTEGER},
        usergroupid = #{record.usergroupid,jdbcType=INTEGER},
        account = #{record.account,jdbcType=VARCHAR},
        password = #{record.password,jdbcType=VARCHAR},
        status = #{record.status,jdbcType=VARCHAR},
        weixinid = #{record.weixinid,jdbcType=VARCHAR},
        avatar = #{record.avatar,jdbcType=VARCHAR},
        roleid = #{record.roleid,jdbcType=INTEGER},
        roleper = #{record.roleper,jdbcType=INTEGER},
        policecode = #{record.policecode,jdbcType=VARCHAR}
        <if test="_parameter != null">
            <include refid="Update_By_Example_Where_Clause" />
        </if>
    </update>
    <update id="updateByPrimaryKeySelective" parameterType="com.zhongzhou.entity.system.TSysUser">
        update t_sys_user
        <set>
            <if test="username != null">
                username = #{username,jdbcType=VARCHAR},
            </if>
            <if test="phone != null">
                phone = #{phone,jdbcType=VARCHAR},
            </if>
            <if test="email != null">
                email = #{email,jdbcType=VARCHAR},
            </if>
            <if test="sex != null">
                sex = #{sex,jdbcType=INTEGER},
            </if>
            <if test="birthday != null">
                birthday = #{birthday,jdbcType=DATE},
            </if>
            <if test="departid != null">
                departid = #{departid,jdbcType=INTEGER},
            </if>
            <if test="usergroupid != null">
                usergroupid = #{usergroupid,jdbcType=INTEGER},
            </if>
            <if test="account != null">
                account = #{account,jdbcType=VARCHAR},
            </if>
            <if test="password != null">
                password = #{password,jdbcType=VARCHAR},
            </if>
            <if test="status != null">
                status = #{status,jdbcType=VARCHAR},
            </if>
            <if test="weixinid != null">
                weixinid = #{weixinid,jdbcType=VARCHAR},
            </if>
            <if test="avatar != null">
                avatar = #{avatar,jdbcType=VARCHAR},
            </if>
            <if test="roleid != null">
                roleid = #{roleid,jdbcType=INTEGER},
            </if>
            <if test="roleper != null">
                roleper = #{roleper,jdbcType=INTEGER},
            </if>
            <if test="policecode != null">
                policecode = #{policecode,jdbcType=VARCHAR},
            </if>
        </set>
        where id = #{id,jdbcType=INTEGER}
    </update>
    <update id="updateByPrimaryKey" parameterType="com.zhongzhou.entity.system.TSysUser">
    update t_sys_user
    set username = #{username,jdbcType=VARCHAR},
      phone = #{phone,jdbcType=VARCHAR},
      email = #{email,jdbcType=VARCHAR},
      sex = #{sex,jdbcType=INTEGER},
      birthday = #{birthday,jdbcType=DATE},
      departid = #{departid,jdbcType=INTEGER},
      usergroupid = #{usergroupid,jdbcType=INTEGER},
      account = #{account,jdbcType=VARCHAR},
      password = #{password,jdbcType=VARCHAR},
      status = #{status,jdbcType=VARCHAR},
      weixinid = #{weixinid,jdbcType=VARCHAR},
      avatar = #{avatar,jdbcType=VARCHAR},
      roleid = #{roleid,jdbcType=INTEGER},
      roleper = #{roleper,jdbcType=INTEGER},
      policecode = #{policecode,jdbcType=VARCHAR}
    where id = #{id,jdbcType=INTEGER}
  </update>
    <update id="updateBatchByPrimaryKey" parameterType="java.util.List">
        update t_sys_user
        <trim prefix="set" suffixOverrides=",">
            <trim prefix="username =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.username}
                </foreach>
            </trim>
            <trim prefix="phone =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.phone}
                </foreach>
            </trim>
            <trim prefix="email =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.email}
                </foreach>
            </trim>
            <trim prefix="sex =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.sex}
                </foreach>
            </trim>
            <trim prefix="birthday =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.birthday}
                </foreach>
            </trim>
            <trim prefix="departid =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.departid}
                </foreach>
            </trim>
            <trim prefix="usergroupid =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.usergroupid}
                </foreach>
            </trim>
            <trim prefix="account =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.account}
                </foreach>
            </trim>
            <trim prefix="password =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.password}
                </foreach>
            </trim>
            <trim prefix="status =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.status}
                </foreach>
            </trim>
            <trim prefix="weixinid =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.weixinid}
                </foreach>
            </trim>
            <trim prefix="avatar =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.avatar}
                </foreach>
            </trim>
            <trim prefix="roleid =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.roleid}
                </foreach>
            </trim>
            <trim prefix="roleper =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.roleper}
                </foreach>
            </trim>
            <trim prefix="policecode =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.policecode}
                </foreach>
            </trim>
        </trim>
        where id in
        <foreach close=")" collection="list" index="index" item="item" open="(" separator=",">
            #{item.id}
        </foreach>
    </update>
    <update id="updateBatchByPrimaryKeySelective" parameterType="java.util.List">
        update t_sys_user
        <trim prefix="set" suffixOverrides=",">
            <trim prefix="username =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    <if test="item.username != null ">
                        when  #{item.id} then #{item.username}
                    </if>
                    <if test="item.username == null ">
                        when  #{item.id} then t_sys_user.username
                    </if>
                </foreach>
            </trim>
            <trim prefix="phone =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    <if test="item.phone != null ">
                        when  #{item.id} then #{item.phone}
                    </if>
                    <if test="item.phone == null ">
                        when  #{item.id} then t_sys_user.phone
                    </if>
                </foreach>
            </trim>
            <trim prefix="email =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    <if test="item.email != null ">
                        when  #{item.id} then #{item.email}
                    </if>
                    <if test="item.email == null ">
                        when  #{item.id} then t_sys_user.email
                    </if>
                </foreach>
            </trim>
            <trim prefix="sex =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    <if test="item.sex != null ">
                        when  #{item.id} then #{item.sex}
                    </if>
                    <if test="item.sex == null ">
                        when  #{item.id} then t_sys_user.sex
                    </if>
                </foreach>
            </trim>
            <trim prefix="birthday =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    <if test="item.birthday != null ">
                        when  #{item.id} then #{item.birthday}
                    </if>
                    <if test="item.birthday == null ">
                        when  #{item.id} then t_sys_user.birthday
                    </if>
                </foreach>
            </trim>
            <trim prefix="departid =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    <if test="item.departid != null ">
                        when  #{item.id} then #{item.departid}
                    </if>
                    <if test="item.departid == null ">
                        when  #{item.id} then t_sys_user.departid
                    </if>
                </foreach>
            </trim>
            <trim prefix="usergroupid =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    <if test="item.usergroupid != null ">
                        when  #{item.id} then #{item.usergroupid}
                    </if>
                    <if test="item.usergroupid == null ">
                        when  #{item.id} then t_sys_user.usergroupid
                    </if>
                </foreach>
            </trim>
            <trim prefix="account =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    <if test="item.account != null ">
                        when  #{item.id} then #{item.account}
                    </if>
                    <if test="item.account == null ">
                        when  #{item.id} then t_sys_user.account
                    </if>
                </foreach>
            </trim>
            <trim prefix="password =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    <if test="item.password != null ">
                        when  #{item.id} then #{item.password}
                    </if>
                    <if test="item.password == null ">
                        when  #{item.id} then t_sys_user.password
                    </if>
                </foreach>
            </trim>
            <trim prefix="status =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    <if test="item.status != null ">
                        when  #{item.id} then #{item.status}
                    </if>
                    <if test="item.status == null ">
                        when  #{item.id} then t_sys_user.status
                    </if>
                </foreach>
            </trim>
            <trim prefix="weixinid =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    <if test="item.weixinid != null ">
                        when  #{item.id} then #{item.weixinid}
                    </if>
                    <if test="item.weixinid == null ">
                        when  #{item.id} then t_sys_user.weixinid
                    </if>
                </foreach>
            </trim>
            <trim prefix="avatar =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    <if test="item.avatar != null ">
                        when  #{item.id} then #{item.avatar}
                    </if>
                    <if test="item.avatar == null ">
                        when  #{item.id} then t_sys_user.avatar
                    </if>
                </foreach>
            </trim>
            <trim prefix="roleid =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    <if test="item.roleid != null ">
                        when  #{item.id} then #{item.roleid}
                    </if>
                    <if test="item.roleid == null ">
                        when  #{item.id} then t_sys_user.roleid
                    </if>
                </foreach>
            </trim>
            <trim prefix="roleper =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    <if test="item.roleper != null ">
                        when  #{item.id} then #{item.roleper}
                    </if>
                    <if test="item.roleper == null ">
                        when  #{item.id} then t_sys_user.roleper
                    </if>
                </foreach>
            </trim>
            <trim prefix="policecode =case id" suffix="end,">
                <foreach collection="list" index="index" item="item" separator=" ">
                    <if test="item.policecode != null ">
                        when  #{item.id} then #{item.policecode}
                    </if>
                    <if test="item.policecode == null ">
                        when  #{item.id} then t_sys_user.policecode
                    </if>
                </foreach>
            </trim>
        </trim>
        where id in
        <foreach close=")" collection="list" index="index" item="item" open="(" separator=",">
            #{item.id}
        </foreach>
    </update>
    <update id="updateBatchByExample" parameterType="map">
        update t_sys_user
        <trim prefix="set" suffixOverrides=",">
            <trim prefix="username =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.username}
                </foreach>
            </trim>
            <trim prefix="phone =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.phone}
                </foreach>
            </trim>
            <trim prefix="email =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.email}
                </foreach>
            </trim>
            <trim prefix="sex =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.sex}
                </foreach>
            </trim>
            <trim prefix="birthday =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.birthday}
                </foreach>
            </trim>
            <trim prefix="departid =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.departid}
                </foreach>
            </trim>
            <trim prefix="usergroupid =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.usergroupid}
                </foreach>
            </trim>
            <trim prefix="account =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.account}
                </foreach>
            </trim>
            <trim prefix="password =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.password}
                </foreach>
            </trim>
            <trim prefix="status =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.status}
                </foreach>
            </trim>
            <trim prefix="weixinid =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.weixinid}
                </foreach>
            </trim>
            <trim prefix="avatar =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.avatar}
                </foreach>
            </trim>
            <trim prefix="roleid =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.roleid}
                </foreach>
            </trim>
            <trim prefix="roleper =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.roleper}
                </foreach>
            </trim>
            <trim prefix="policecode =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    when  #{item.id} then #{item.policecode}
                </foreach>
            </trim>
        </trim>
        <if test="_parameter != null">
            <include refid="Update_By_Example_Where_Clause" />
        </if>
    </update>
    <update id="updateBatchByExampleSelective" parameterType="map">
        update t_sys_user
        <trim prefix="set" suffixOverrides=",">
            <trim prefix="username =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    <if test="item.username != null ">
                        when  #{item.id} then #{item.username}
                    </if>
                    <if test="item.username == null ">
                        when  #{item.id} then t_sys_user.username
                    </if>
                </foreach>
            </trim>
            <trim prefix="phone =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    <if test="item.phone != null ">
                        when  #{item.id} then #{item.phone}
                    </if>
                    <if test="item.phone == null ">
                        when  #{item.id} then t_sys_user.phone
                    </if>
                </foreach>
            </trim>
            <trim prefix="email =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    <if test="item.email != null ">
                        when  #{item.id} then #{item.email}
                    </if>
                    <if test="item.email == null ">
                        when  #{item.id} then t_sys_user.email
                    </if>
                </foreach>
            </trim>
            <trim prefix="sex =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    <if test="item.sex != null ">
                        when  #{item.id} then #{item.sex}
                    </if>
                    <if test="item.sex == null ">
                        when  #{item.id} then t_sys_user.sex
                    </if>
                </foreach>
            </trim>
            <trim prefix="birthday =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    <if test="item.birthday != null ">
                        when  #{item.id} then #{item.birthday}
                    </if>
                    <if test="item.birthday == null ">
                        when  #{item.id} then t_sys_user.birthday
                    </if>
                </foreach>
            </trim>
            <trim prefix="departid =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    <if test="item.departid != null ">
                        when  #{item.id} then #{item.departid}
                    </if>
                    <if test="item.departid == null ">
                        when  #{item.id} then t_sys_user.departid
                    </if>
                </foreach>
            </trim>
            <trim prefix="usergroupid =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    <if test="item.usergroupid != null ">
                        when  #{item.id} then #{item.usergroupid}
                    </if>
                    <if test="item.usergroupid == null ">
                        when  #{item.id} then t_sys_user.usergroupid
                    </if>
                </foreach>
            </trim>
            <trim prefix="account =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    <if test="item.account != null ">
                        when  #{item.id} then #{item.account}
                    </if>
                    <if test="item.account == null ">
                        when  #{item.id} then t_sys_user.account
                    </if>
                </foreach>
            </trim>
            <trim prefix="password =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    <if test="item.password != null ">
                        when  #{item.id} then #{item.password}
                    </if>
                    <if test="item.password == null ">
                        when  #{item.id} then t_sys_user.password
                    </if>
                </foreach>
            </trim>
            <trim prefix="status =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    <if test="item.status != null ">
                        when  #{item.id} then #{item.status}
                    </if>
                    <if test="item.status == null ">
                        when  #{item.id} then t_sys_user.status
                    </if>
                </foreach>
            </trim>
            <trim prefix="weixinid =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    <if test="item.weixinid != null ">
                        when  #{item.id} then #{item.weixinid}
                    </if>
                    <if test="item.weixinid == null ">
                        when  #{item.id} then t_sys_user.weixinid
                    </if>
                </foreach>
            </trim>
            <trim prefix="avatar =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    <if test="item.avatar != null ">
                        when  #{item.id} then #{item.avatar}
                    </if>
                    <if test="item.avatar == null ">
                        when  #{item.id} then t_sys_user.avatar
                    </if>
                </foreach>
            </trim>
            <trim prefix="roleid =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    <if test="item.roleid != null ">
                        when  #{item.id} then #{item.roleid}
                    </if>
                    <if test="item.roleid == null ">
                        when  #{item.id} then t_sys_user.roleid
                    </if>
                </foreach>
            </trim>
            <trim prefix="roleper =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    <if test="item.roleper != null ">
                        when  #{item.id} then #{item.roleper}
                    </if>
                    <if test="item.roleper == null ">
                        when  #{item.id} then t_sys_user.roleper
                    </if>
                </foreach>
            </trim>
            <trim prefix="policecode =case id" suffix="end,">
                <foreach collection="recordList" index="index" item="item" separator=" ">
                    <if test="item.policecode != null ">
                        when  #{item.id} then #{item.policecode}
                    </if>
                    <if test="item.policecode == null ">
                        when  #{item.id} then t_sys_user.policecode
                    </if>
                </foreach>
            </trim>
        </trim>
        <if test="_parameter != null">
            <include refid="Update_By_Example_Where_Clause" />
        </if>
    </update>
  
  
  <!-- 查询所有的部门包括部门里的所有人 -->
  <select id="queryDepartMans" resultMap="DepartmanMap">
  	select tsd.id depart,tsd.departname,tsu.id userid,tsu.username from t_sys_depart tsd LEFT JOIN t_sys_user tsu on tsd.id=tsu.departid
  </select>






    <!-- 查询指定权限用户 -->
    <select id="queryUserRoleper" resultType="com.zhongzhou.entity.system.TSysUser">
        select * from t_sys_user
        where roleper = #{roleper}
    </select>

    <!-- 分页查询 -->
    <select id="pageList" resultType="com.zhongzhou.entity.system.TSysUser">
        select * from t_sys_user
        <where>

            <if test="keyword != null and keyword !=''">

                (
                username like  CONCAT("%",#{keyword},"%")  or
                phone like   CONCAT("%",#{keyword},"%")  or
                account like   CONCAT("%",#{keyword},"%")  or
                policecode like   CONCAT("%",#{keyword},"%")
                )

            </if>

        </where>
        order by id desc
    </select>
  
  
</mapper>